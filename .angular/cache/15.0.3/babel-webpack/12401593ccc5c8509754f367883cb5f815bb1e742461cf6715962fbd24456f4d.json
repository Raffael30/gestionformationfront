{"ast":null,"code":"import { Utilisateur } from 'src/app/models/utilisateur';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/utilisateur.service\";\nimport * as i2 from \"src/app/services/role.service\";\nimport * as i3 from \"@angular/common\";\nfunction ListeUtilisateurComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\")(25, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ListeUtilisateurComponent_tr_33_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const utilisateur_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.modifier(utilisateur_r1.id));\n    });\n    i0.ɵɵtext(26, \"Modifier\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"td\")(28, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ListeUtilisateurComponent_tr_33_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const utilisateur_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.supprimer(utilisateur_r1.id));\n    });\n    i0.ɵɵtext(29, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const utilisateur_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.prenom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.adresse);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.telephone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.region);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 11, utilisateur_r1.dateInscription, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(utilisateur_r1.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.password);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(utilisateur_r1.role);\n  }\n}\nexport class ListeUtilisateurComponent {\n  constructor(utilisateurService, roleService) {\n    this.utilisateurService = utilisateurService;\n    this.roleService = roleService;\n  }\n  ngOnInit() {\n    this.utilisateur = new Utilisateur();\n    this.getAll();\n  }\n  getAll() {\n    this.utilisateurService.getAll().subscribe(response => this.utilisateurs = response);\n  }\n  ajouter() {\n    console.log('ajouter');\n    this.utilisateurService.ajouter(this.utilisateur).subscribe(response => {\n      console.log('ok');\n      this.getAll();\n    }, error => {\n      console.log(' non ok');\n      console.log(error.message);\n    });\n  }\n  supprimer(id) {\n    this.utilisateurService.supprimer(id).subscribe(response => {\n      this.getAll();\n    }, error => {\n      console.log(error.message);\n    });\n  }\n  modifier(id) {\n    this.utilisateurService.getById(id).subscribe(response => {\n      this.utilisateur = response;\n    }, error => {\n      console.log(error.message);\n    });\n  }\n}\nListeUtilisateurComponent.ɵfac = function ListeUtilisateurComponent_Factory(t) {\n  return new (t || ListeUtilisateurComponent)(i0.ɵɵdirectiveInject(i1.UtilisateurService), i0.ɵɵdirectiveInject(i2.RoleService));\n};\nListeUtilisateurComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListeUtilisateurComponent,\n  selectors: [[\"app-liste-utilisateur\"]],\n  decls: 34,\n  vars: 1,\n  consts: [[1, \"container-fluid\"], [1, \"table\", \"table-striped\", \"table-hover\", \"caption-top\", \"text-center\", \"my-4\"], [1, \"text-center\", \"fs-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"]],\n  template: function ListeUtilisateurComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"caption\", 2);\n      i0.ɵɵtext(3, \"Liste des utilisateurs\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"thead\")(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Prenom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Adresse\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Telephone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Region\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Date d'inscription\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"Nom d'utilisateur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\");\n      i0.ɵɵtext(25, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Modifier\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Supprimer\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(32, \"tbody\");\n      i0.ɵɵtemplate(33, ListeUtilisateurComponent_tr_33_Template, 30, 14, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"ngForOf\", ctx.utilisateurs);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,WAAW,QAAQ,4BAA4B;;;;;;;;ICwB5CC,0BAA6C;IACrCA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAsB;IAAAA,iBAAK;IAC/BA,0BAAI;IAAAA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,aAAqB;IAAAA,iBAAK;IAC9BA,2BAAI;IAAAA,aAAyB;IAAAA,iBAAK;IAClCA,2BAAI;IAAAA,aAAsB;IAAAA,iBAAK;IAC/BA,2BAAI;IAAAA,aAAqD;;IAAAA,iBAAK;IAC9DA,2BAAI;IAAAA,aAAwB;IAAAA,iBAAK;IACjCA,2BAAI;IAAAA,aAAwB;IAAAA,iBAAK;IACjCA,2BAAI;IAAAA,aAAoB;IAAAA,iBAAK;IAG7BA,2BAAI;IAAwCA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAwB;IAAA,EAAC;IAACA,yBAAQ;IAAAA,iBAAS;IAChGA,2BAAI;IAAuCA;MAAA;MAAA;MAAA;MAAA,OAASA,kDAAyB;IAAA,EAAC;IAACA,0BAAS;IAAAA,iBAAS;;;;IAd7FA,eAAkB;IAAlBA,uCAAkB;IAClBA,eAAmB;IAAnBA,wCAAmB;IACnBA,eAAsB;IAAtBA,2CAAsB;IACtBA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAyB;IAAzBA,8CAAyB;IACzBA,eAAsB;IAAtBA,2CAAsB;IACtBA,eAAqD;IAArDA,0FAAqD;IACrDA,eAAwB;IAAxBA,6CAAwB;IACxBA,eAAwB;IAAxBA,6CAAwB;IACxBA,eAAoB;IAApBA,yCAAoB;;;AD1BxC,OAAM,MAAOC,yBAAyB;EASpCC,YAAoBC,kBAAsC,EAAUC,WAAwB;IAAxE,uBAAkB,GAAlBD,kBAAkB;IAA8B,gBAAW,GAAXC,WAAW;EAAiB;EAEhGC,QAAQ;IAEN,IAAI,CAACC,WAAW,GAAG,IAAIP,WAAW,EAAE;IACpC,IAAI,CAACQ,MAAM,EAAE;EACf;EAEAA,MAAM;IACJ,IAAI,CAACJ,kBAAkB,CAACI,MAAM,EAAE,CAACC,SAAS,CACxCC,QAAQ,IAAI,IAAI,CAACC,YAAY,GAAGD,QAAQ,CACzC;EACH;EAGAE,OAAO;IACLC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IAEtB,IAAI,CAACV,kBAAkB,CAACQ,OAAO,CAAC,IAAI,CAACL,WAAW,CAAC,CAACE,SAAS,CACzDC,QAAQ,IAAG;MACTG,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjB,IAAI,CAACN,MAAM,EAAE;IACf,CAAC,EACDO,KAAK,IAAG;MACNF,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtBD,OAAO,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC;IAC5B,CAAC,CACF;EAEH;EAEAC,SAAS,CAACC,EAAU;IAClB,IAAI,CAACd,kBAAkB,CAACa,SAAS,CAACC,EAAE,CAAC,CAACT,SAAS,CAC7CC,QAAQ,IAAG;MACT,IAAI,CAACF,MAAM,EAAE;IACf,CAAC,EACDO,KAAK,IAAG;MACNF,OAAO,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC;IAC5B,CAAC,CACF;EACH;EAEAG,QAAQ,CAACD,EAAU;IACjB,IAAI,CAACd,kBAAkB,CAACgB,OAAO,CAACF,EAAE,CAAC,CAACT,SAAS,CAC3CC,QAAQ,IAAG;MACT,IAAI,CAACH,WAAW,GAAGG,QAAQ;IAC7B,CAAC,EACDK,KAAK,IAAG;MACNF,OAAO,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,CAAC;IAC5B,CAAC,CACF;EACH;;AA5DWd,yBAAyB;mBAAzBA,yBAAyB;AAAA;AAAzBA,yBAAyB;QAAzBA,yBAAyB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZtCxB,8BAA6B;MAGaA,sCAAsB;MAAAA,iBAAU;MAClEA,6BAAO;MAKKA,kBAAE;MAAAA,iBAAK;MACXA,0BAAI;MAAAA,mBAAG;MAAAA,iBAAK;MACZA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAClBA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,mCAAkB;MAAAA,iBAAK;MAC3BA,2BAAI;MAAAA,kCAAiB;MAAAA,iBAAK;MAC1BA,2BAAI;MAAAA,6BAAY;MAAAA,iBAAK;MACrBA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAG1BA,8BAAO;MAGHA,4EAiBK;MACTA,iBAAQ;;;MAlBwBA,gBAAe;MAAfA,0CAAe","names":["Utilisateur","i0","ListeUtilisateurComponent","constructor","utilisateurService","roleService","ngOnInit","utilisateur","getAll","subscribe","response","utilisateurs","ajouter","console","log","error","message","supprimer","id","modifier","getById","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\goutm\\Desktop\\angular\\gestionformationfront\\src\\app\\components\\utilisateur\\liste-utilisateur\\liste-utilisateur.component.ts","C:\\Users\\goutm\\Desktop\\angular\\gestionformationfront\\src\\app\\components\\utilisateur\\liste-utilisateur\\liste-utilisateur.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Region } from 'src/app/models/region';\r\nimport { Role } from 'src/app/models/role';\r\nimport { Utilisateur } from 'src/app/models/utilisateur';\r\nimport { RoleService } from 'src/app/services/role.service';\r\nimport { UtilisateurService } from 'src/app/services/utilisateur.service';\r\n\r\n@Component({\r\n  selector: 'app-liste-utilisateur',\r\n  templateUrl: './liste-utilisateur.component.html',\r\n  styleUrls: ['./liste-utilisateur.component.scss']\r\n})\r\nexport class ListeUtilisateurComponent {\r\n\r\n  utilisateurs!: Utilisateur[];\r\n  utilisateur!: Utilisateur;\r\n  roles!: Role[];\r\n  role!: Role;\r\n  idRole!: number;\r\n  region!: Region;\r\n\r\n  constructor(private utilisateurService: UtilisateurService, private roleService: RoleService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.utilisateur = new Utilisateur();\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    this.utilisateurService.getAll().subscribe(\r\n      response => this.utilisateurs = response\r\n    )\r\n  }\r\n\r\n\r\n  ajouter() {\r\n    console.log('ajouter')\r\n\r\n    this.utilisateurService.ajouter(this.utilisateur).subscribe(\r\n      response => {\r\n        console.log('ok')\r\n        this.getAll();\r\n      },\r\n      error => {\r\n        console.log(' non ok')\r\n        console.log(error.message)\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  supprimer(id: number) {\r\n    this.utilisateurService.supprimer(id).subscribe(\r\n      response => {\r\n        this.getAll();\r\n      },\r\n      error => {\r\n        console.log(error.message)\r\n      }\r\n    )\r\n  }\r\n\r\n  modifier(id: number) {\r\n    this.utilisateurService.getById(id).subscribe(\r\n      response => {\r\n        this.utilisateur = response;\r\n      },\r\n      error => {\r\n        console.log(error.message)\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <table class=\"table table-striped table-hover caption-top text-center my-4\">\r\n\r\n        <caption class=\"text-center fs-4\">Liste des utilisateurs</caption>\r\n        <thead>\r\n\r\n\r\n\r\n            <tr>\r\n                <th>Id</th>\r\n                <th>Nom</th>\r\n                <th>Prenom</th>\r\n                <th>Adresse</th>\r\n                <th>Email</th>\r\n                <th>Telephone</th>\r\n                <th>Region</th>\r\n                <th>Date d'inscription</th>\r\n                <th>Nom d'utilisateur</th>\r\n                <th>Mot de passe</th>\r\n                <th>Role</th>\r\n                <th>Modifier</th>\r\n                <th>Supprimer</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n\r\n\r\n            <tr *ngFor=\"let utilisateur of utilisateurs\">\r\n                <td>{{utilisateur.id}}</td>\r\n                <td>{{utilisateur.nom}}</td>\r\n                <td>{{utilisateur.prenom}}</td>\r\n                <td>{{utilisateur.adresse}}</td>\r\n                <td>{{utilisateur.email}}</td>\r\n                <td>{{utilisateur.telephone}}</td>\r\n                <td>{{utilisateur.region}}</td>\r\n                <td>{{utilisateur.dateInscription | date : 'dd/MM/yyyy'}}</td>\r\n                <td>{{utilisateur.username}}</td>\r\n                <td>{{utilisateur.password}}</td>\r\n                <td>{{utilisateur.role}}</td>\r\n\r\n\r\n                <td><button class=\"btn btn-outline-primary\" (click)=\"modifier(utilisateur.id)\">Modifier</button></td>\r\n                <td><button class=\"btn btn-outline-danger\" (click)=\"supprimer(utilisateur.id)\">Supprimer</button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}